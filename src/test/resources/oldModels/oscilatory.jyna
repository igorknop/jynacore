<!------------------------------------------------------------------------------
  Copyright (c) 2009 Igor Knop.
      This file is part of JynaCore.
  
      JynaCore is free software: you can redistribute it and/or modify
      it under the terms of the GNU Lesser General Public License as published by
      the Free Software Foundation, either version 3 of the License, or
      (at your option) any later version.
  
      JynaCore is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU Lesser General Public License for more details.
  
      You should have received a copy of the GNU Lesser General Public License
      along with JynaCore.  If not, see <http://www.gnu.org/licenses/>.
------------------------------------------------------------------------------->
<?xml version="1.0" encoding="UTF-8"?>
<systemDynamicsModel>
  <levels>
    <finiteLevel>
      <name>Y</name>
      <initialValues>0.0</initialValues>
      <ninitialValue>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:cn>1.0</m:cn>
        </m:math>
      </ninitialValue>
    </finiteLevel>
    <finiteLevel>
      <name>X</name>
      <initialValues>1.0</initialValues>
      <ninitialValue>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:cn>1.0</m:cn>
        </m:math>
      </ninitialValue>
    </finiteLevel>
  </levels>
  <infiniteLevels>
    <infiniteLevel>
      <name>XSource</name>
    </infiniteLevel>
    <infiniteLevel>
      <name>YSource</name>
    </infiniteLevel>
  </infiniteLevels>
  <rates>
    <rate>
      <name>dY</name>
      <expression>-factor*difference</expression>
      <nexpression>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:apply>
            <m:times />
            <m:apply>
              <m:inverse />
              <m:ci>factor</m:ci>
            </m:apply>
            <m:ci>difference</m:ci>
          </m:apply>
        </m:math>
      </nexpression>
      <from>YSource</from>
      <to>Y</to>
    </rate>
    <rate>
      <name>dX</name>
      <expression>Y</expression>
      <nexpression>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:ci>X</m:ci>
        </m:math>
      </nexpression>
      <from>XSource</from>
      <to>X</to>
    </rate>
  </rates>
  <auxiliaries>
    <auxiliary>
      <name>desiredX</name>
      <expression>0.1</expression>
      <nexpression>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:cn>0.1</m:cn>
        </m:math>
      </nexpression>
    </auxiliary>
    <auxiliary>
      <name>factor</name>
      <expression>0.01</expression>
      <nexpression>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:cn>0.1</m:cn>
        </m:math>
      </nexpression>
    </auxiliary>
    <auxiliary>
      <name>difference</name>
      <expression>X-desiredX</expression>
      <nexpression>
        <m:math xmlns:m="http://www.w3.org/1998/Math/MathML">
          <m:apply>
            <m:minus />
            <m:ci>X</m:ci>
            <m:ci>desiredX</m:ci>
          </m:apply>
        </m:math>
      </nexpression>
    </auxiliary>
  </auxiliaries>
  <informations>
    <information>
      <name>CurrentY</name>
      <source>Y</source>
      <consumer>dX</consumer>
    </information>
    <information>
      <name>CurrentDesiredX</name>
      <source>desiredX</source>
      <consumer>difference</consumer>
    </information>
    <information>
      <name>CurrentDifference</name>
      <source>difference</source>
      <consumer>dY</consumer>
    </information>
    <information>
      <name>CurrentX</name>
      <source>X</source>
      <consumer>difference</consumer>
    </information>
    <information>
      <name>CurrentFactor</name>
      <source>factor</source>
      <consumer>dY</consumer>
    </information>
  </informations>
</systemDynamicsModel>

